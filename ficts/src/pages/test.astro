---
import "../styles/global.css";
import Navbar from "../components/Navbar.astro";
import Layout from "../layouts/Layout.astro";
import Contact from "../components/Contact.astro";
import Hero from "../components/Hero.astro";
import ServiceSection from "../components/ServiceSection.astro";
import About from "../components/About.astro";
import Stats from "../components/Stats.astro";
import CompanyStrategy from "../components/CompanyStrategy.astro";
import ProjectCard from "../components/ProjectCard.astro";
import LogoWall from "../components/LogoWall.astro";
import BentoGridSection from "../components/BentoGridSection.astro";
import TestimonialSection from "../components/TestimonialSection.astro";

const clientName = "FICT Solutions";
const primaryColor = "bg-emerald-950"; // Deep Forest Green
const accentColor = "text-yellow-400"; // Gold
// 1. Automatically find all images in that folder
const images = import.meta.glob("/src/images/*.{jpeg,jpg,png,gif,avif}");
---

<!doctype html>
<html lang="en" class="bg-white dark:bg-emerald-950 min-h-screen">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>FICT Solutions - Web Design Agency</title>
    <!-- Inter Font CDN -->
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"
    />

    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"
    />

    <style>
      html {
        font-family: "Inter", system-ui, sans-serif;
      }
    </style>
  </head>
  <body>
    <Layout title="TechNova Solutions | Web Design Agency">
      <!-- Navigation Bar -->
      <Navbar />

      <div class="reveal">
        <ServiceSection />
      </div>

      <section
        class="relative w-full h-screen overflow-hidden bg-blue-300 flex items-center justify-center"
      >
        <div class="spiral-bg"></div>

        <div class="relative z-10 text-center max-w-4xl mx-auto px-4">
          <h1 class="text-white text-5xl font-bold mb-4">AI Ecosystem</h1>
          <p class="text-slate-300 text-xl">
            Your content stays perfectly still while the dots wave in the
            background.
          </p>
        </div>
      </section>

      <section
        class="relative w-full h-96 overflow-hidden bg-blue-900 flex items-center justify-center mt-10"
      >
        <div class="spiral-bg"></div>

        <div class="relative z-10">
          <h2 class="text-white text-3xl">This works independently</h2>
        </div>
      </section>
    </Layout>
    <section class="relative w-full h-screen overflow-hidden bg-[#0a0a0a]">
      <canvas id="dotCanvas" class="absolute inset-0 z-0 pointer-events-none"
      ></canvas>

      <div
        class="relative z-10 flex flex-col items-center justify-center h-full text-white"
      >
        <h1 class="text-6xl font-bold">Interactive AI</h1>
        <p class="opacity-60">Move your mouse to disturb the ecosystem</p>
      </div>
    </section>

    <script>
      const canvas = document.getElementById("dotCanvas") as HTMLCanvasElement;
      const ctx = canvas.getContext("2d");

      let particles = [];
      const mouse = { x: -100, y: -100, radius: 100 };

      // 1. Resize handling
      function resize() {
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;
        init();
      }

      // 2. Particle Object
      class Particle {
        x: number;
        y: number;
        baseX: number;
        baseY: number;
        size: number;
        density: number;
        constructor(x, y) {
          this.x = x;
          this.y = y;
          this.baseX = x; // Origin point
          this.baseY = y;
          this.size = 1.5;
          this.density = Math.random() * 30 + 1; // "Weight" of the dot
        }

        draw() {
          ctx.fillStyle = "rgba(74, 85, 104, 0.8)"; // Your #4a5568 color
          ctx.beginPath();
          ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
          ctx.closePath();
          ctx.fill();
        }

        update() {
          let dx = mouse.x - this.x;
          let dy = mouse.y - this.y;
          let distance = Math.sqrt(dx * dx + dy * dy);

          // Calculate force based on mouse distance
          if (distance < mouse.radius) {
            const forceDirectionX = dx / distance;
            const forceDirectionY = dy / distance;
            const force = (mouse.radius - distance) / mouse.radius;
            const directionX = forceDirectionX * force * this.density;
            const directionY = forceDirectionY * force * this.density;

            this.x -= directionX;
            this.y -= directionY;
          } else {
            // Return to original position
            if (this.x !== this.baseX) {
              let dx = this.x - this.baseX;
              this.x -= dx / 10;
            }
            if (this.y !== this.baseY) {
              let dy = this.y - this.baseY;
              this.y -= dy / 10;
            }
          }
        }
      }

      function init() {
        particles = [];
        const gap = 30; // Spacing between dots
        for (let y = 0; y < canvas.height; y += gap) {
          for (let x = 0; x < canvas.width; x += gap) {
            particles.push(new Particle(x, y));
          }
        }
      }

      function animate() {
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        for (let i = 0; i < particles.length; i++) {
          particles[i].update();
          particles[i].draw();
        }
        requestAnimationFrame(animate);
      }

      // Listeners
      window.addEventListener("mousemove", (e) => {
        mouse.x = e.x;
        mouse.y = e.y;
      });

      window.addEventListener("resize", resize);

      resize();
      animate();
    </script>
  </body>
</html>
